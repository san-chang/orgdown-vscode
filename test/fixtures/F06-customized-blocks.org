#+TITLE: Comprehensive Test Suite for Customized Blocks

* 1. Integration Test Cases

This section is the primary source for the snapshot test. It covers various
customized block types.

** 1.1. Standard Customized Blocks

#+BEGIN_MY-CUSTOM-BLOCK
This is a custom block.
It can contain any content.
#+END_MY-CUSTOM-BLOCK

#+BEGIN_ANOTHER-BLOCK
Even with different naming conventions.
#+END_ANOTHER-BLOCK

#+BEGIN_MY-BLOCK :description "This is a description"
A block with a quoted parameter.
#+END_MY-BLOCK

** 1.2. Edge Cases

#+BEGIN_EMPTY
#+END_EMPTY

#+BEGIN_WITH-SPACES
  Some content with leading spaces.
#+END_WITH-SPACES

* 2. Unit Test Cases

This section contains isolated unit tests for the customized block regexes.

#+NAME: Unit Test: Basic customized block (no args)
#+BEGIN_FIXTURE
#+BEGIN_MYBLOCK
Content
#+END_MYBLOCK
#+END_FIXTURE

#+EXPECTED: :type folding
[0-1]

#+EXPECTED: :type regex :name customizedBlockBeginRegex
| Group # | Expected Value |
|---------+----------------|
| 1       |                |
| 2       | #+BEGIN_       |
| 3       | MYBLOCK        |
| 4       |                |

#+NAME: Unit Test: Case-insensitivity (no args)
#+BEGIN_FIXTURE
#+bEgIn_YoUrBlOcK
Content
#+eNd_YoUrBlOcK
#+END_FIXTURE

#+EXPECTED: :type folding
[0-1]

#+EXPECTED: :type regex :name customizedBlockBeginRegex
| Group # | Expected Value |
|---------+----------------|
| 1       |                |
| 2       | #+bEgIn_       |
| 3       | YoUrBlOcK      |
| 4       |                |

#+NAME: Unit Test: Customized block with arguments
#+BEGIN_FIXTURE
#+BEGIN_MYBLOCK :arg1 value1 :arg2 value2
Content
#+END_MYBLOCK
#+END_FIXTURE

#+EXPECTED: :type folding
[0-1]

#+EXPECTED: :type regex :name customizedBlockBeginRegex
| Group # | Expected Value |
|---------+----------------|
| 1       |                |
| 2       | #+BEGIN_       |
| 3       | MYBLOCK        |
| 4       | :arg1 value1 :arg2 value2 |

#+NAME: Unit Test: Customized block parameter with quoted value
#+BEGIN_FIXTURE
:description "This is a description"
#+END_FIXTURE

#+EXPECTED: :type regex :name blockParameterRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | :description   |
| 2       | "This is a description" |

#+NAME: Show Case - scope assertions for customized blocks
#+BEGIN_FIXTURE
#+BEGIN_MYBLOCK :arg1 value1 :arg2 "quoted value"
Custom content line
#+END_MYBLOCK
#+END_FIXTURE

#+EXPECTED: :type folding
[0-1]

#+EXPECTED: :type scope
'#+BEGIN_MYBLOCK :arg1 value1 :arg2 "quoted value"' => {{scopes.BLOCK_CUSTOMIZED_META}}
  - "#+BEGIN_" => {{scopes.BLOCK_KEYWORD}}
  - "MYBLOCK" => {{scopes.BLOCK_NAME}}
  - ":arg1" => {{scopes.BLOCK_PARAMETER_KEY}}
  - "value1" => {{scopes.BLOCK_PARAMETER_VALUE}}
  - ":arg2" => {{scopes.BLOCK_PARAMETER_KEY}}
  - '"quoted value"' => {{scopes.BLOCK_PARAMETER_VALUE}}
"Custom content line" => {{scopes.BLOCK_CUSTOMIZED_CONTENT}}
"#+END_MYBLOCK" => {{scopes.BLOCK_CUSTOMIZED_META}}
